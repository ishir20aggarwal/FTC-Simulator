<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="borderPane"
    onKeyPressed="#handleKeyEvents"
    onKeyReleased="#handleKeyEvents"
    xmlns="http://javafx.com/javafx/22"
    xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="virtual_robot.controller.VirtualRobotController">

   <!-- ===================== TOP HUD ===================== -->
   <top>
      <VBox spacing="6.0" alignment="CENTER">

         <!-- Timer + Score -->
         <HBox alignment="CENTER" spacing="20.0">
            <Label fx:id="lblRunTime" text="0.00">
               <font><Font size="28"/></font>
            </Label>
            <Label fx:id="lblScore" text="Score: 0">
               <font><Font size="24"/></font>
            </Label>
         </HBox>

         <!-- Timer Mode -->
         <HBox alignment="CENTER" spacing="14.0">
            <RadioButton fx:id="rbStopwatch"
                text="Stopwatch"
                toggleGroup="$timerModeGroup"
                selected="true"/>
            <RadioButton fx:id="rbTwoMin"
                text="2:00 Match"
                toggleGroup="$timerModeGroup"/>
         </HBox>

      </VBox>
   </top>

   <!-- ===================== FIELD ===================== -->
   <center>
      <Pane fx:id="fieldPane"
          onMouseDragged="#handleFieldMouseClick"
          onMousePressed="#handleFieldMouseClick">



          <ImageView fx:id="imgViewBackground"
             pickOnBounds="true"
             preserveRatio="true"/>
         <ImageView fx:id="imgCyberSages"
             fitWidth="110"
             preserveRatio="true"
             opacity="0.95" />
          <Label fx:id="controllerLabel"
              layoutX="10"
              layoutY="10"
              style="-fx-font-size: 14px; -fx-text-fill: white;
              -fx-background-color: rgba(0,0,0,0.5);
              -fx-padding: 4 8 4 8;" />

         <Label fx:id="lblTeamNumber"
             text="#23541"
             style="-fx-font-size: 100px;
              -fx-font-weight: bold;
              -fx-text-fill: #2a6cff;"
             opacity="0.55" />


         <Label fx:id="lblCredit"
             text="Original Controller Design: Beta8397"
             style="-fx-font-size: 10px;
                          -fx-text-fill: rgba(255,255,255,0.65);
                          -fx-background-color: rgba(0,0,0,0.25);
                          -fx-padding: 2 6 2 6;
                          -fx-background-radius: 6;"/>
      </Pane>
   </center>

   <!-- ===================== RIGHT PANEL ===================== -->
   <right>
      <VBox fx:id="vbxRight" alignment="CENTER" spacing="10" BorderPane.alignment="TOP_CENTER">

         <Label text="Configurations"/>
         <ComboBox fx:id="cbxConfig" onAction="#setConfig" prefWidth="250"/>

         <Label text="OpModes"/>
         <ComboBox fx:id="cbxOpModes" prefWidth="250"/>

         <Button fx:id="driverButton"
             text="INIT"
             onAction="#handleDriverButtonAction"/>

         <TextArea fx:id="txtTelemetry" editable="false" prefHeight="250" prefWidth="250"/>

         <HBox>
            <CheckBox fx:id="checkBoxGamePad1" text="GamePad1"/>
            <CheckBox fx:id="checkBoxGamePad2" text="GamePad2"/>
         </HBox>

         <CheckBox fx:id="cbxShowPath"
             text="Show path"
             onAction="#handleCbxShowPathAction"/>
      </VBox>
   </right>

   <!-- ===================== LEFT PANEL ===================== -->
   <left>
      <VBox alignment="CENTER" spacing="10">

         <CheckBox fx:id="checkBoxAutoHuman"
             text="Automate human player"
             onAction="#handleCheckBoxAutoHumanAction"
             selected="true"/>

         <Button text="Human Action" onAction="#handleBtnHumanAction"/>
         <Button text="Reset Elements" onAction="#handleBtnResetGameElements"/>
         <Button text="Preload Elements" onAction="#handleBtnPreloadElementsOnBot"/>

         <Label text="Random Motor Error"/>
         <Slider fx:id="sldRandomMotorError" max="0.25"/>

         <Label text="Systematic Motor Error"/>
         <Slider fx:id="sldSystematicMotorError" max="0.1"/>

         <Label text="Motor Inertia"/>
         <Slider fx:id="sldMotorInertia" max="2.0"/>
      </VBox>
   </left>

</BorderPane>
